<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deploying to Fly.io for Development - Joser&#39;s Elixir</title>
    <meta name="description" content="Exploring the world of Elixir development, functional programming, and software engineering">

    
    <link rel="stylesheet" href="/css/custom.css">

    
    <link rel="icon" type="image/x-icon" href="/favicon.ico">

    </head>
<body>
    <header class="site-header">
        <div class="header-container">
            <div class="site-branding">
                <a href="https://joser.ca/" class="site-title">Joser&#39;s Elixir</a>
            </div>

            <nav class="site-navigation">
                
                <a href="/">Home</a>
                
                <a href="/posts/">Posts</a>
                
                <a href="/about/">About</a>
                
            </nav>
        </div>
    </header>

    <main class="main-content">
        
<article class="single-post">
    <header class="article-header">
        <h1>Deploying to Fly.io for Development</h1>

        <div class="article-meta">
            <time datetime="2025-10-22">October 22, 2025</time>

            
            <span class="author">by Joseph</span>
            

            
            <div class="categories">
                
                <span class="category">Software Development</span>
                
                <span class="category">DevOps</span>
                
            </div>
            

            
            <div class="tags">
                
                <span class="tag">#fly.io</span>
                
                <span class="tag">#deployment</span>
                
                <span class="tag">#infrastructure</span>
                
                <span class="tag">#elixir</span>
                
            </div>
            

            <div class="reading-time">
                3 min read
            </div>
        </div>
    </header>

    <div class="article-content">
        <h2 id="getting-your-app-live-with-flyio">Getting Your App Live with Fly.io</h2>
<p>When it comes to deploying Elixir applications for development, Fly.io stands out as a developer friendly platform that makes the deployment process straightforward. In this post, I&rsquo;ll walk through deploying my project to Fly.io and share some key learnings along the way.</p>
<h2 id="why-flyio">Why Fly.io?</h2>
<p>Fly.io offers several advantages for development deployments:</p>
<ul>
<li><strong>Global Edge Network</strong>: Deploy your app close to your users</li>
<li><strong>Elixir Friendly</strong>: Built in support for Phoenix and Elixir applications</li>
<li><strong>Docker Based</strong>: Uses Dockerfiles for flexible deployments</li>
<li><strong>Built in Postgres</strong>: Easy database provisioning</li>
</ul>
<h2 id="getting-started">Getting Started</h2>
<p>First, install the Fly.io CLI (flyctl):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># macOS</span>
</span></span><span style="display:flex;"><span>brew install flyctl
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Or use the install script</span>
</span></span><span style="display:flex;"><span>curl -L https://fly.io/install.sh | sh</span></span></code></pre></div>
<h2 id="my-deployment-experience">My Deployment Experience</h2>
<p>The deployment process was surprisingly straightforward. I only ran two commands:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>fly launch
</span></span><span style="display:flex;"><span>fly auth token</span></span></code></pre></div>
<p>The <code>fly auth token</code> command prompted me to paste an API token, which I generated from my Fly.io dashboard at <a href="https://fly.io/user/personal_access_tokens">https://fly.io/user/personal_access_tokens</a>.</p>
<p>From there, Fly.io handled everything automatically. The <code>fly launch</code> command:</p>
<ol>
<li>Detected my Elixir/Phoenix application</li>
<li>Generated a <code>fly.toml</code> configuration file</li>
<li>Created the necessary <code>Dockerfile</code> and <code>.dockerignore</code> files</li>
<li>Set up the app on Fly.io&rsquo;s infrastructure</li>
<li>Configured the database connection automatically</li>
</ol>
<p>It really was that simple. The platform took care of all the heavy lifting.</p>
<h2 id="automating-deployments-with-github-actions">Automating Deployments with GitHub Actions</h2>
<p>To make deployments even smoother, I set up continuous deployment using GitHub Actions. This automatically deploys my app whenever I push to the main branch.</p>
<p>I added this job to my <code>.github/workflows/elixir.yml</code> file:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">deploy-review</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Deploy to Review App</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">runs-on</span>: <span style="color:#ae81ff">ubuntu-latest</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">needs</span>: <span style="color:#ae81ff">test</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">if</span>: <span style="color:#ae81ff">github.ref == &#39;refs/heads/main&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">concurrency</span>: <span style="color:#ae81ff">deploy-group</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">steps</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">uses</span>: <span style="color:#ae81ff">actions/checkout@v4</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">uses</span>: <span style="color:#ae81ff">superfly/flyctl-actions/setup-flyctl@master</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">run</span>: <span style="color:#ae81ff">flyctl deploy --remote-only --config ./fly.review.toml --dockerfile ./Dockerfile.review</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">env</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">FLY_API_TOKEN</span>: <span style="color:#ae81ff">${{ secrets.FLY_API_TOKEN }}</span></span></span></code></pre></div>
<p>This workflow:</p>
<ul>
<li>Only runs on pushes to the main branch</li>
<li>Waits for tests to pass first (via <code>needs: test</code>)</li>
<li>Uses Fly.io&rsquo;s official GitHub Action to set up flyctl</li>
<li>Deploys using a custom config file and Dockerfile for the review environment</li>
<li>Uses <code>--remote-only</code> to build on Fly.io&rsquo;s servers instead of locally</li>
<li>Uses the <code>FLY_API_TOKEN</code> secret for authentication</li>
</ul>
<p>To set this up, you&rsquo;ll need to:</p>
<ol>
<li>Generate an API token from <a href="https://fly.io/user/personal_access_tokens">https://fly.io/user/personal_access_tokens</a></li>
<li>Add it as a secret named <code>FLY_API_TOKEN</code> in your GitHub repository settings</li>
<li>Create your custom <code>fly.review.toml</code> and <code>Dockerfile.review</code> if needed</li>
</ol>
<p>Now every push to main automatically deploys to Fly.io after the tests pass!</p>
<h2 id="running-seeds">Running Seeds</h2>
<p>After deploying, I needed to populate the database with initial data using my seeds file.</p>
<p>Here&rsquo;s the process I followed:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 1. Deploy first</span>
</span></span><span style="display:flex;"><span>fly deploy -a trays-review
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2. Connect to the remote console</span>
</span></span><span style="display:flex;"><span>fly ssh console -a trays-review -C <span style="color:#e6db74">&#34;/app/bin/trays remote&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 3. Run seeds from within the remote console</span>
</span></span><span style="display:flex;"><span>Code.eval_file<span style="color:#f92672">(</span>Path.join<span style="color:#f92672">([</span>:code.priv_dir<span style="color:#f92672">(</span>:trays<span style="color:#f92672">)</span>, <span style="color:#e6db74">&#34;repo&#34;</span>, <span style="color:#e6db74">&#34;seeds.exs&#34;</span><span style="color:#f92672">]))</span></span></span></code></pre></div>
<p>This workflow is useful for any time you need to update your seeds file. The remote console gives you full access to your application&rsquo;s environment, allowing you to run Elixir code directly.</p>
<h2 id="monitoring-your-app">Monitoring Your App</h2>
<p>Fly.io provides several monitoring tools:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># View logs</span>
</span></span><span style="display:flex;"><span>flyctl logs
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Check app status</span>
</span></span><span style="display:flex;"><span>flyctl status
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Monitor in real-time</span>
</span></span><span style="display:flex;"><span>flyctl logs -a your-app-name --follow</span></span></code></pre></div>
<p>You can also access the Fly.io dashboard at <a href="https://fly.io/dashboard">https://fly.io/dashboard</a> to see metrics, logs, and machine status.</p>
<h2 id="useful-commands">Useful Commands</h2>
<p>Here are some commands I find myself using frequently:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Open your app in the browser</span>
</span></span><span style="display:flex;"><span>flyctl open
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># SSH into your running app</span>
</span></span><span style="display:flex;"><span>flyctl ssh console
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Scale your app</span>
</span></span><span style="display:flex;"><span>flyctl scale count <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Check app info</span>
</span></span><span style="display:flex;"><span>flyctl info
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Restart your app</span>
</span></span><span style="display:flex;"><span>flyctl apps restart</span></span></code></pre></div>
<h2 id="conclusion">Conclusion</h2>
<p>Fly.io has made deploying my development environment incredibly smooth. The platform&rsquo;s focus on developer experience shows, from automatic Elixir detection to built in Postgres support.</p>
    </div>

    <footer class="article-footer">
        <div class="article-navigation">
            
            <a href="/posts/security-with-sobelow/" class="nav-prev">
                ← Basic Security Measures with Sobelow and Mix Audit
            </a>
            

            
        </div>
    </footer>
</article>

    </main>

    <footer class="site-footer">
        <div class="footer-container">
            <p>&copy; 2025 Joser&#39;s Elixir. All rights reserved.</p>
        </div>
    </footer>
</body>
</html>